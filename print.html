<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Calypso Book</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="This book is a definitive reference to Calypso. It covers syntax, and eventually, will cover the basics of the standard library, and even more complex features.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="src/styles.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="guide/intro.html"><strong aria-hidden="true">1.</strong> The Calypso Guide</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="guide/hello_world.html"><strong aria-hidden="true">1.1.</strong> Hello, world!</a></li></ol></li><li class="chapter-item expanded "><a href="reference/intro.html"><strong aria-hidden="true">2.</strong> The Calypso Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/types.html"><strong aria-hidden="true">2.1.</strong> Types</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Calypso Book</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/calypso-lang/calypso/tree/main/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>Welcome to <em>The Calypso Book</em>! This book is the definitive reference to the Calypso programming language.</p>
<p>The book will be is divided into 2 major sections:</p>
<ul>
<li><a href="guide/intro.html">The Calypso Guide</a>, a guide on how to write code in Calypso.</li>
<li><a href="reference/intro.html">The Calypso Reference</a>, a more formal spec on how the Calypso programming language works. This section is inspired by the Rust reference, which has definitely gotten me through some tough binds when working on stuff with macros.</li>
</ul>
<h2><a class="header" href="#notation" id="notation">Notation</a></h2>
<p>Some chapters will use notation that is specific to that part of the book. Notation localized to a specific part of the book will be discussed when needed. However, there is some notation that will be used throughout the book. This will be described here.</p>
<h3><a class="header" href="#linkingreferencing-sections" id="linkingreferencing-sections">Linking/Referencing Sections</a></h3>
<p>When referencing a part of the book, use the following format:</p>
<ul>
<li>Prefix the section number by the short name (Reference: REF, Guide: GUI) of the part of the book followed by a space</li>
<li>Section numbers should be formatted as they are shown in the sidebar of the book, not including the first part (as that is dividing between the Guide and the Reference) An example of this would be <code>12.5.6</code>, if, for example, there was a section <code>2.12.5.6: Some Section</code> in the reference.</li>
<li>If the referenced section is an appendix, use the appendix letter prefixed by “Appendix” instead of the section number.</li>
</ul>
<h4><a class="header" href="#examples" id="examples">Examples</a></h4>
<ul>
<li>Reference Chapter 2, Section 3: <code>REF 2.3</code></li>
<li>Guide Chapter 7, Section 3, Subsection 5: <code>GUI 7.3.5</code></li>
<li>Guide Appendix B: <code>GUI Appendix B</code></li>
</ul>
<h1><a class="header" href="#introduction-1" id="introduction-1">Introduction</a></h1>
<p>This part of <em>The Calypso Book</em> is a guide on how to write code in Calypso.</p>
<p>Currently this guide will not describe the Calypso build system and command-line interface as those are not yet fully defined.</p>
<h2><a class="header" href="#notation-1" id="notation-1">Notation</a></h2>
<p>Calypso code will be written in code blocks like this:</p>
<pre><code class="language-plaintext">Hello! This is a code block!
</code></pre>
<p>Things to look out for or further explanations of things may be provided in notes like this:</p>
<blockquote>
<p>Note: This is a note!</p>
</blockquote>
<p>Or in warnings like this:</p>
<div class="warning">
<p>Warning: This is a warning. Oh no!</p>
</div><h1><a class="header" href="#hello-world" id="hello-world">Hello, world!</a></h1>
<p>No programming language guide would be complete without a “Hello, world!” example.</p>
<p>Code in Calypso is organized in “statements”. These are complete lines of code ending with a semicolon.
To print text to the console, you call the function <code>println</code> with the string of text you would like to print.
To do this, you type the name of the function, followed by an opening parentheses, then the arguments
(in this case, a string of text), then a closing parentheses. Enough talk, let’s get to the code!</p>
<!-- todo(@ThePuzzlemaker: doc): REPL instructions;
          blocked on REPL actually, well, existing -->
<p>Open the REPL and run this:</p>
<pre><code class="language-cal">println(&quot;Hello, world!&quot;);
</code></pre>
<p>Calypso requires you to define a main function when you’re not running a program in the REPL. This function will always be
executed at the beginning of the program. You can define a main function like this:</p>
<pre><code class="language-cal">fn main() {
    println(&quot;Hello, world!&quot;);
}
</code></pre>
<pre><code class="language-cal">#[main]
fn main() {
    println(&quot;Hello, world!&quot;);
}

println(&quot;OOPS! This part is invalid code!&quot;);
</code></pre>
<p>We’ll talk about functions, attributes, and all that stuff in more depth in later chapters.</p>
<h1><a class="header" href="#introduction-2" id="introduction-2">Introduction</a></h1>
<p>This part of <em>The Calypso Book</em> is a more formal specification on how the Calypso programming language works. This reference is inspired by the Rust reference book, which has definitely gotten me through some tough binds when working on stuff with macros.</p>
<p>This reference also describes the basic overview of how the bytecode compiler and VM work, and the basic structure of the project.</p>
<h1><a class="header" href="#types" id="types">Types</a></h1>
<p>This is a reference of all of the primitive types in Calypso. This is just a
reference on what types exist and a rough reference on how they work. Rigorous
definitions of how types are represented, operate, and interact will be present
in the VM guide.</p>
<h2><a class="header" href="#table" id="table">Table</a></h2>
<table><thead><tr><th align="center">Name</th><th align="left">Rust Equivalent</th><th align="left">Quick Description</th></tr></thead><tbody>
<tr><td align="center"><a href="reference/types.html#undef"><code>undef</code></a></td><td align="left">no Rust equivalent</td><td align="left">Variables that were never defined (or never bound, in non-strict mode).</td></tr>
<tr><td align="center"><a href="reference/types.html#null"><code>null</code></a></td><td align="left"><code>Option::None</code></td><td align="left">A value that was explicitly set to be nothing.</td></tr>
<tr><td align="center"><a href="reference/types.html#bool"><code>bool</code></a></td><td align="left"><code>bool</code></td><td align="left">True or false values.</td></tr>
<tr><td align="center"><a href="reference/types.html#sint"><code>sint</code></a></td><td align="left"><code>i64</code></td><td align="left">Signed integers. Affixed by <code>s</code>, optionally, to disambiguate.</td></tr>
<tr><td align="center"><a href="reference/types.html#uint"><code>uint</code></a></td><td align="left"><code>u64</code></td><td align="left">Unsigned integers. Affixed by <code>u</code>, optionally, to disambiguate.</td></tr>
<tr><td align="center"><a href="reference/types.html#float"><code>float</code></a></td><td align="left"><code>f64</code></td><td align="left">Floating point values (<code>binary64</code> in IEEE 754-2008). Affixed by <code>f</code>, optionally, to disambiguate.</td></tr>
<tr><td align="center"><a href="reference/types.html#string"><code>string</code></a></td><td align="left"><code>&amp;str</code> or <code>String</code></td><td align="left">Mutable and immutable (stored in read-only section) strings of text as UTF-8.</td></tr>
<tr><td align="center"><a href="reference/types.html#char"><code>char</code></a></td><td align="left"><code>char</code></td><td align="left">A single Unicode codepoint stored in UTF-32.</td></tr>
<tr><td align="center"><a href="reference/types.html#tuple"><code>tuple</code></a></td><td align="left"><code>(A, B, ...)</code></td><td align="left">A fixed-length finite possibly heterogenous sequence.</td></tr>
<tr><td align="center"><a href="reference/types.html#array"><code>array</code></a></td><td align="left"><code>[A; N]</code> or <code>Vec&lt;T&gt;</code> (able to be heterogenous)</td><td align="left">A dynamic-length possibly heterogenous sequence.</td></tr>
</tbody></table>
<h2><a class="header" href="#undef" id="undef"><code>undef</code></a></h2>
<p>Variables that were never defined (or never bound, in non-strict mode).</p>
<p>All <code>undef</code> values are aliased (in the same memory location) in the VM.</p>
<h3><a class="header" href="#examples-1" id="examples-1">Examples</a></h3>
<pre><code class="language-calypso">let foo;
println(typeof(foo)); // undef
</code></pre>
<p>In non-strict mode, this is also valid:</p>
<pre><code class="language-calypso">println(typeof(foo)); // undef
</code></pre>
<p>However, in strict mode, it would error because <code>foo</code> was never bound with a
<code>let</code> binding, as seen in the first example.</p>
<h2><a class="header" href="#null" id="null"><code>null</code></a></h2>
<p>A value that was explicitly set to be nothing.</p>
<p>All <code>null</code> values are aliased (in the same memory location) in the VM.</p>
<h3><a class="header" href="#examples-2" id="examples-2">Examples</a></h3>
<pre><code class="language-calypso">let foo = null;
if foo is null {
    println(&quot;Oh no! foo is null!&quot;);
}
</code></pre>
<h2><a class="header" href="#bool" id="bool"><code>bool</code></a></h2>
<p><code>true</code> or <code>false</code> values.</p>
<h3><a class="header" href="#examples-3" id="examples-3">Examples</a></h3>
<pre><code class="language-calypso">let foo = true;
let bar = false;
if foo || bar {
    println(&quot;Either foo or bar was true&quot;);
}
</code></pre>
<h2><a class="header" href="#sint" id="sint"><code>sint</code></a></h2>
<p>Signed integers. Affixed by <code>s</code>, optionally, to disambiguate.</p>
<p>Integers in Calypso are assumed to be unsigned, unless a minus sign (<code>-</code>) is
present at the beginning. However, you can also affix a number with <code>s</code> like
this: <code>162s</code> to make sure that it is signed.</p>
<h3><a class="header" href="#examples-4" id="examples-4">Examples</a></h3>
<pre><code class="language-calypso">println(1 + 2s); // 3
</code></pre>
<pre><code class="language-calypso">println(-1 + 6); // 5
</code></pre>
<h2><a class="header" href="#uint" id="uint"><code>uint</code></a></h2>
<p>Unsigned integers. Affixed by <code>u</code>, optionally, to disambiguate.</p>
<p>Integers in Calypso are assumed to be unsigned, unless a minus sign (<code>-</code>) is
present at the beginning. However, you can also affix a number with <code>u</code> like
this: <code>162u</code> to make sure that it is unsigned. This is not allowed for numbers
that have a minus sign present at the beginning.</p>
<h3><a class="header" href="#examples-5" id="examples-5">Examples</a></h3>
<pre><code class="language-calypso">println(5 + 3u); // 8
</code></pre>
<h2><a class="header" href="#float" id="float"><code>float</code></a></h2>
<p>Floating point values (<code>binary64</code> in IEEE 754-2008). Affixed by <code>f</code>, optionally,
to disambiguate.</p>
<p>Numbers in Calypso are assumed to be integers unless a decimal portion of the
number is present. However, you can also affix a number with <code>f</code> like this: <code>5f</code>
to make sure that it is a float. Integers are coerced into floats when necessary,
but floats are never coerced into integers as that would require truncation,
which loses data.</p>
<h3><a class="header" href="#examples-6" id="examples-6">Examples</a></h3>
<pre><code class="language-calypso">println(5.2 + 2.8); // 8.0
</code></pre>
<pre><code class="language-calypso">println(7f * 4.0); // 28
</code></pre>
<h2><a class="header" href="#string" id="string"><code>string</code></a></h2>
<p>Mutable and immutable (stored in read-only section) strings of text as UTF-8.</p>
<p>Strings in Calypso are clone-on-write. They start off immutable (as they are
just references to a section of the bytecode file), but when a user wishes to
write to or change a string, it is cloned into the VM’s stack or heap, then
modified there.</p>
<p>They are represented as UTF-8.</p>
<h3><a class="header" href="#examples-7" id="examples-7">Examples</a></h3>
<pre><code class="language-calypso">println(&quot;This is a string!&quot;);
</code></pre>
<pre><code class="language-calypso">let mut str = &quot;This is a string!&quot;; // It's immutable right now. 
str = str &lt;&gt; &quot; Thanks for using it!&quot;; // Now it's mutable.
println(str); // This is a string! Thanks for using it!
</code></pre>
<h2><a class="header" href="#char" id="char"><code>char</code></a></h2>
<p>A single Unicode codepoint stored in UTF-32.</p>
<p>When concatenated to another character, it forms a string two characters long.
Characters can also be concatenated to strings, which just adds the character to
the beginning or end of the string.</p>
<h3><a class="header" href="#examples-8" id="examples-8">Examples</a></h3>
<pre><code class="language-calypso">let rainbow = '\u{1f308}';
let zwj = '\u{200d}';
let white_flag = '\u{1f3f3}';
println(rainbow &lt;&gt; zwj &lt;&gt; white_flag); // 🌈‍🏳 (rainbow flag, if your browser doesn't support emoji)
</code></pre>
<h2><a class="header" href="#tuple" id="tuple"><code>tuple</code></a></h2>
<p>A fixed-length, finite, possibly heterogenous sequence.</p>
<p>A tuple is stored contiguously in memory, but it’s fixed-length. Elements are
accessed using <code>.E</code> where <code>E</code> is the zero-index element number.</p>
<h3><a class="header" href="#examples-9" id="examples-9">Examples</a></h3>
<pre><code class="language-calypso">let tup = (1, &quot;hi&quot;, 3);
println(tup.1); // hi
</code></pre>
<h2><a class="header" href="#array" id="array"><code>array</code></a></h2>
<p>A dynamic-length possibly heterogenous sequence.</p>
<p>An array is stored contiguously in memory, but it’s growable. In Rust, this is
implemented using a <code>Vec&lt;T&gt;</code>. Elements are accessed using <code>[E]</code> where <code>E</code> is the
zero-indexed element number.</p>
<h3><a class="header" href="#examples-10" id="examples-10">Examples</a></h3>
<pre><code class="language-calypso">let arr = [1, 2, &quot;hello&quot;];
println(arr[2]); // hello
arr = arr &lt;&gt; [5, 2.6, 'a'];
arr = arr &lt;&gt; null;
println(inspect(arr)); // [1, 2, &quot;hello&quot;, 5, 2.6, 'a', null]
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="calypso-hljs.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
        
        

    </body>
</html>
